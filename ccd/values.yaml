tags:
  # ccd-idam-pr: false
  rpe-service-auth-provider: false


ccd-user-profile-api:
  java:
  releaseNameOverride: ccd-user-profile-java
  image: 'hmctspublic.azurecr.io/ccd/user-profile-api:latest'
  applicationPort: 4453
  environment:
    USER_PROFILE_S2S_AUTHORISED_SERVICES: ccd_data,ccd_definition,ccd_admin
    USER_PROFILE_DB_HOST: "{{ .Release.Name }}-postgresql"
    USER_PROFILE_DB_PORT: 5432
    USER_PROFILE_DB_NAME: "{{ .Values.postgresql.postgresqlDatabase}}"
    USER_PROFILE_DB_USERNAME: "{{ .Values.postgresql.postgresqlUsername}}"
    USER_PROFILE_DB_PASSWORD: "{{ .Values.postgresql.postgresqlPassword}}"
    LOGBACK_REQUIRE_ALERT_LEVEL: 'false'
    LOGBACK_REQUIRE_ERROR_CODE: 'false' 
  postgresql:
  enabled: true


# idamApiUrl: https://idam-api.aat.platform.hmcts.net
# idamWebUrl: https://idam-web-public.aat.platform.hmcts.net
s2sUrl: "http://rpe-service-auth-provider-aat.service.core-compute-aat.internal"
# draftStoreUrl: "http://draft-store-service-aat.service.core-compute-aat.internal"
# paymentsUrl: "http://payment-api-aat.service.core-compute-aat.internal"
# appInsightsKey: "fake-key"


# rpe-service-auth-provider:
#   enabled: false
#   java:
#     image: hmctspublic.azurecr.io/rpe/service-auth-provider:latest
#     readinessDelay: 180
#     livenessDelay: 180
#     readinessPeriod: 60
#     livenessPeriod: 60
#     keyVaults:
#     environment:
#       TESTING_SUPPORT_ENABLED: 'true'
#       MICROSERVICEKEYS_CCD_ADMIN: AAAAAAAAAAAAAAAA
#       MICROSERVICEKEYS_CCD_DATA: AAAAAAAAAAAAAAAA
#       MICROSERVICEKEYS_CCD_DEFINITION: AAAAAAAAAAAAAAAA
#       MICROSERVICEKEYS_CCD_GATEWAY: AAAAAAAAAAAAAAAA
#       MICROSERVICEKEYS_CCD_GW: AAAAAAAAAAAAAAAA
#       MICROSERVICEKEYS_FPL_CASE_SERVICE: AAAAAAAAAAAAAAAA

# postgresql:
#   resources:
#     requests:
#       cpu: 25m
#   initdbScripts:
#     init.sql: |-
#       CREATE DATABASE "draftstore" WITH OWNER = hmcts ENCODING = 'UTF-8' CONNECTION LIMIT = -1;
#       CREATE DATABASE "data-store" WITH OWNER = hmcts ENCODING = 'UTF-8' CONNECTION LIMIT = -1;
#       CREATE DATABASE "definition-store" WITH OWNER = hmcts ENCODING = 'UTF-8' CONNECTION LIMIT = -1;
#   postgresqlUsername: hmcts
#   postgresqlPassword: hmcts
#   postgresqlDatabase: user-profile
#   persistence:
#     enabled: true 
