
global:
   apiGatewayIngress: ""
   caseManagementIngress: ""
   idamUrl: ""
   idamWebUrl: ""

ccd-case-management-web:
  enabled: false
  nodejs:
    image: 'hmctspublic.azurecr.io/ccd/case-management-web:latest'
    releaseNameOverride: ccd-case-management-web
    environment:
      IDAM_LOGIN_URL: https://{{ .Values.global.idamWebUrl }}/login
      CCD_GW_LOGOUT_URL: https://{{ .Values.global.apiGatewayIngress }}/logout
      CCD_API_URL: https://{{ .Values.global.apiGatewayIngress }}/aggregated
      CCD_DATA_URL: https://{{ .Values.global.apiGatewayIngress }}/data
      CCD_GW_OAUTH2_URL: https://{{ .Values.global.apiGatewayIngress }}/oauth2
      DM_URL: https://{{ .Values.global.apiGatewayIngress }}/documents
      PRINT_SERVICE_URL: https://{{ .Values.global.apiGatewayIngress }}/print
      PRINT_SERVICE_URL_REMOTE: https://return-case-doc-ccd.nonprod.platform.hmcts.net
      CCD_ACTIVITY_URL: https://{{ .Values.global.apiGatewayIngress }}/activity
      PAYMENTS_URL: https://{{ .Values.global.apiGatewayIngress }}/payments

idam-pr:
  enabled: false
  releaseNameOverride: ccd-idam-pr
  redirect_uris:
    CCD:
      - https://{{Â .Values.global.caseManagementIngress}}/oauth2redirect  
    

ccd-api-gateway-web:
  enabled: true
  nodejs:
    image: 'hmctspublic.azurecr.io/ccd/api-gateway-web:latest'
    releaseNameOverride: ccd-api-gateway
    environment:
      IDAM_OAUTH2_CLIENT_ID: ccd_gateway
      IDAM_OAUTH2_TOKEN_ENDPOINT: http://{{ .Values.global.idamUrl }}/oauth2/token
      IDAM_OAUTH2_LOGOUT_ENDPOINT: http://{{ .Values.global.idamUrl }}/session/:token
      IDAM_BASE_URL: http://{{ .Values.global.idamUrl }}
      IDAM_S2S_URL: http://service-auth-s2s
      IDAM_SERVICE_KEY: AAAAAAAAAAAAAAAA
      PROXY_AGGREGATED: http://ccd-data-store
      PROXY_DATA: http://ccd-data-store
      PROXY_DEFINITION_IMPORT: http://ccd-definition-store-api
      PROXY_DOCUMENT_MANAGEMENT: http://dm-store-aat.service.core-compute-aat.internal
      PROXY_PAYMENTS: http://payment-api-aat.service.core-compute-aat.internal
      PROXY_PRINT_SERVICE: http://ccd-case-print-service-aat.service.core-compute-aat.internal
      CORS_ORIGIN_WHITELIST: "https://{{ .Values.global.caseManagementIngress }},http://{{ .Values.global.caseManagementIngress }},{{ .Values.global.caseManagementIngress }},*"
      PROXY_CASE_ACTIVITY: http://ccd-case-activity-api-aat.service.core-compute-aat.internal
    

ccd-admin-web:
  enabled: false
  nodejs:
    image: 'hmctspublic.azurecr.io/ccd/admin-web:latest'
    releaseNameOverride: "ccd-admin-web"
    environment:
      IDAM_S2S_URL: http://service-auth-s2s
      IDAM_BASE_URL: https://{{ .Values.global.idamWebUrl }}/login
      IDAM_OAUTH2_TOKEN_ENDPOINT: https://{{ .Values.global.idamWebUrl }}/login/oauth2/token
      IDAM_OAUTH2_LOGOUT_ENDPOINT: https://{{ .Values.global.idamWebUrl }}/login/session/:token

ccd-user-profile-api:
  enabled: true
  java:
    releaseNameOverride: ccd-user-profile
    image: 'hmctspublic.azurecr.io/ccd/user-profile-api:latest'
    environment:
      USER_PROFILE_DB_NAME: "user-profile"
      USER_PROFILE_DB_USERNAME: "hmcts"
      USER_PROFILE_DB_PASSWORD: "hmcts"
      IDAM_S2S_URL: http://service-auth-s2s

ccd-definition-store-api:
  enabled: true
  java:
    image: 'hmctspublic.azurecr.io/ccd/definition-store-api:latest'
    releaseNameOverride: ccd-definition-store
    readinessDelay: 180
    livenessDelay: 180
    readinessPeriod: 60
    livenessPeriod: 60
    environment:
      IDAM_S2S_URL: http://service-auth-s2s
      IDAM_USER_URL: http://{{ .Values.global.idamUrl }}
      DEFINITION_STORE_DB_NAME: definition-store
      DEFINITION_STORE_DB_USERNAME: "hmcts"
      DEFINITION_STORE_DB_PASSWORD: "hmcts"
      USER_PROFILE_HOST: http://ccd-user-profile
  

ccd-data-store-api:
  enabled: true
  java:
    image: 'hmctspublic.azurecr.io/ccd/data-store-api:latest'
    releaseNameOverride: ccd-data-store
    readinessDelay: 180
    livenessDelay: 180
    readinessPeriod: 60
    livenessPeriod: 60
    environment:
      DATA_STORE_DB_NAME: "data-store"
      DATA_STORE_DB_USERNAME: "hmcts"
      DATA_STORE_DB_PASSWORD: "hmcts"
      CCD_DM_DOMAIN: https?://dm-store.*
      IDAM_USER_URL: http://{{ .Values.global.idamUrl }}
      IDAM_S2S_URL: http://service-auth-s2s
      DATA_STORE_IDAM_KEY: AAAAAAAAAAAAAAAA
      DEFINITION_STORE_HOST: http://ccd-definition-store
      USER_PROFILE_HOST: http://ccd-user-profile
      CCD_DRAFT_STORE_URL: http://draft-store-service-aat.service.core-compute-aat.internal

#Dependencies

rpe-service-auth-provider:
  enabled: true
  java:
    image: hmctspublic.azurecr.io/rpe/service-auth-provider:latest
    releaseNameOverride: 'service-auth-s2s'
    readinessDelay: 180
    livenessDelay: 180
    readinessPeriod: 60
    livenessPeriod: 60
    keyVaults:
    environment:
      TESTING_SUPPORT_ENABLED: 'true'
      MICROSERVICEKEYS_CCD_ADMIN: AAAAAAAAAAAAAAAA
      MICROSERVICEKEYS_CCD_DATA: AAAAAAAAAAAAAAAA
      MICROSERVICEKEYS_CCD_DEFINITION: AAAAAAAAAAAAAAAA
      MICROSERVICEKEYS_CCD_GW: AAAAAAAAAAAAAAAA
      MICROSERVICEKEYS_CCD_PS: AAAAAAAAAAAAAAAA

postgresql:
  persistence:
    enabled: false
  resources:
    requests:
      cpu: 25m
  initdbScripts:
    init.sql: |-
      CREATE DATABASE "data-store" WITH OWNER = hmcts ENCODING = 'UTF-8' CONNECTION LIMIT = -1;
      CREATE DATABASE "definition-store" WITH OWNER = hmcts ENCODING = 'UTF-8' CONNECTION LIMIT = -1;
  postgresqlUsername: hmcts
  postgresqlPassword: hmcts
  postgresqlDatabase: user-profile
